@prefix sh:   <http://www.w3.org/ns/shacl#> .
@prefix dbo:  <http://dbpedia.org/ontology/> .
@prefix dbr:  <http://dbpedia.org/resource/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix ex:   <http://example.org/shapes/> .

ex:BarcaPlayersShape
  a sh:NodeShape ;

  # všichni, co mají team
  sh:targetSubjectsOf dbo:team ;

  # musí hrát za FC Barcelona
  sh:property [
    sh:path dbo:team ;
    sh:hasValue dbr:FC_Barcelona ;
    sh:minCount 1 ;
    sh:message "Player must have dbo:team = FC Barcelona." ;
  ] ;

# jméno povinné – musí být v angličtině
sh:property [
    sh:path foaf:name ;
    sh:minCount 1 ;
    sh:nodeKind sh:Literal ;
    sh:languageIn ("en") ;
    sh:message "Player must have at least one foaf:name in English (@en)." ;
] ;

# pozice – NESMÍ být víc než jedno (Warning)
sh:property [
    sh:path foaf:name ;
    sh:maxCount 1 ;
    sh:severity sh:Warning ;
    sh:message "Multiple foaf:names values found; expected at most one." ;
] ;

  # datum narození – povinné
  sh:property [
    sh:path dbo:birthDate ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:datatype xsd:date ;
    sh:message "Missing or invalid dbo:birthDate (must be xsd:date)." ;
  ] ;

  # pozice – povinná, IRI
  sh:property [
    sh:path dbo:position ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRI ;
    sh:message "Missing or invalid dbo:position (must be IRI)." ;
  ] ;

# pozice – NESMÍ být víc než jedno (Warning)
sh:property [
    sh:path dbo:position ;
    sh:maxCount 1 ;
    sh:severity sh:Warning ;
    sh:message "Multiple dbo:postion values found; expected at most one." ;
] ;


# číslo dresu – povinné, musí být nonNegativeInteger
sh:property [
    sh:path dbo:number ;
    sh:datatype xsd:nonNegativeInteger ;
    sh:minCount 1 ;
    sh:message "Missing or invalid dbo:number (must be nonNegativeInteger)." ;
]; 

# číslo dresu – NESMÍ být víc než jedno (Warning)
sh:property [
    sh:path dbo:number ;
    sh:maxCount 1 ;
    sh:severity sh:Warning ;
    sh:message "Multiple dbo:number values found; expected at most one." ;
] ;


# výška – povinná, musí být číslo (double nebo decimal)
sh:property [
    sh:path dbo:height ;
    sh:datatype xsd:double;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:message "Missing or invalid height (must by xsd:Double)" ;
] 
 





.



